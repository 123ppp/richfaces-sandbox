<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<script src="jquery/jquery-1.3.2.js" type="text/javascript"></script>
		<script src="jquery.utils.js" type="text/javascript"></script>
		<script src="jquery.position.js" type="text/javascript"></script>
		<script src="richfaces-event.js" type="text/javascript"></script>
	</head>
	<body>
	<div id="aaa" style="background-color:red">aaa</div>
	<div id="bbb" style="background-color:blue">bbb</div>
	<div id="ccc" style="background-color:green">ccc</div>
	<div id="tooltip" style="position: absolute; background-color: gray;">tooltip</div>
	<script>
/*
		jQuery('#tooltip').position(jQuery('#aaa'));
		jQuery('#bbb').bind("click",function(e){jQuery('#tooltip').position(e);});
		jQuery('#tooltip').position({left:10,top:10,width:0,height:0});
*/
		function a (id, namespace) {
			this.getComponentName = function() {return "a"};
			this.namespace = RichFaces.Event.createNamespace(this.getComponentName(), id);
			if (namespace) this.namespace+="."+namespace;
			this.onClick = function(event) {
				alert(event.data.component.getComponentName());
			};
			this.clearEventHandlers = function() {
				RichFaces.Event.unbind(id,'click.'+this.namespace);
			} 

			this.id = id;
			jQuery(id).component = this;
			RichFaces.Event.bind(id,'click.'+this.namespace, this.onClick, this);
		};
		var _a = new a('#aaa','0');
		alert(_a.getComponentName());
		var _b = new a('#bbb');
		var _aa = new a('#aaa','1');
		_a.clearEventHandlers();
	</script>
	</boby>
</html>