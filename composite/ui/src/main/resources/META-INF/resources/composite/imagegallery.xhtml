<!DOCTYPE html>
<html lang="en-US"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:cc="http://java.sun.com/jsf/composite">

<cc:interface componentType="org.richfaces.sandbox.composite.UIImagegallery">
    <cc:attribute name="photos" />

    <!-- comopnent attributes -->
    <cc:attribute name="selector" />
    <cc:attribute name="namespace" />
    <cc:attribute name="slideshow" />
    <cc:attribute name="offsetWidth" />
    <cc:attribute name="offsetHeight" />
    <cc:attribute name="fullscreen" />
    <cc:attribute name="canvas" />
    <cc:attribute name="bodyClass" />
    <cc:attribute name="loaderId" />
    <cc:attribute name="effects" />
    <cc:attribute name="modal" />
    <cc:attribute name="resizable" />
    <cc:attribute name="width" />
    <cc:attribute name="height" />
    <cc:attribute name="show" />
    <cc:attribute name="hide" />
    <cc:attribute name="dialogClass" />
</cc:interface>

<cc:implementation>
    <div id="#{cc.clientId}:div">
        <ui:repeat value="#{cc.attrs.photos}" var="photo">
            <a rel="gallery" href="#{photo.full}" title="#{photo.title}">
                <img src="#{photo.thumb}" alt="#{photo.title}" />
            </a>
        </ui:repeat>
    </div>

    <h:outputScript library="javax.faces" name="jsf.js"/>
    <h:outputScript library="composite/com.jquery" name="jquery-1.7.2.min.js"/>
    <h:outputScript library="composite/com.jqueryui/js" name="jquery-ui-1.8.19.custom.min.js"/>
    <h:outputScript library="composite/com.github.blueimp/js" name="load-image.js"/>
    <h:outputScript library="composite/com.github.blueimp/js" name="jquery.image-gallery.js"/>
    <h:outputStylesheet library="composite/com.jqueryui/css/ui-lightness" name="jquery-ui.custom.css"/>
    <h:outputStylesheet library="composite/com.github.blueimp/css" name="jquery.image-gallery.css"/>
    <h:outputScript>
        var pluginOptions = {};
        ! '#{cc.selector}' || (pluginOptions.selector = '#{cc.selector}');
        ! '#{cc.namespace}' || (pluginOptions.namespace = '#{cc.namespace}');
        ! '#{cc.slideshow}' || (pluginOptions.slideshow = '#{cc.slideshow}');
        ! '#{cc.offsetWidth}' || (pluginOptions.offsetWidth = '#{cc.offsetWidth}');
        ! '#{cc.offsetHeight}' || (pluginOptions.offsetHeight = '#{cc.offsetHeight}');
        ! '#{cc.fullscreen}' || (pluginOptions.fullscreen = '#{cc.fullscreen}');
        ! '#{cc.canvas}' || (pluginOptions.canvas = '#{cc.canvas}');
        ! '#{cc.bodyClass}' || (pluginOptions.bodyClass = '#{cc.bodyClass}');
        ! '#{cc.loaderId}' || (pluginOptions.loaderId = '#{cc.loaderId}');
        ! '#{cc.effects}' || (pluginOptions.effects = '#{cc.effects}');
        ! '#{cc.modal}' || (pluginOptions.modal = '#{cc.modal}');
        ! '#{cc.resizable}' || (pluginOptions.resizable = '#{cc.resizable}');
        ! '#{cc.width}' || (pluginOptions.width = '#{cc.width}');
        ! '#{cc.height}' || (pluginOptions.height = '#{cc.height}');
        ! '#{cc.show}' || (pluginOptions.show = '#{cc.show}');
        ! '#{cc.hide}' || (pluginOptions.hide = '#{cc.hide}');
        ! '#{cc.dialogClass}' || (pluginOptions.dialogClass = '#{cc.dialogClass}');

        jQuery(function() {
            $(document.getElementById('#{cc.clientId}:div')).imagegallery(pluginOptions);
        });
    </h:outputScript>
</cc:implementation>

</html>